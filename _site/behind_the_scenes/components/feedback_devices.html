<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Feedback Devices - Robot Teleoperation Platform</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Feedback Devices | Robot Teleoperation Platform</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Feedback Devices" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/behind_the_scenes/components/feedback_devices.html" /> <meta property="og:url" content="http://localhost:4000/behind_the_scenes/components/feedback_devices.html" /> <meta property="og:site_name" content="Robot Teleoperation Platform" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Feedback Devices" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Feedback Devices","url":"http://localhost:4000/behind_the_scenes/components/feedback_devices.html"}</script> <!-- End Jekyll SEO tag --> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "AMS" } } }); </script> <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"> </script> <script type="text/javascript" src="https://unpkg.com/mermaid@8.0.0-rc.8/dist/mermaid.min.js"> </script> <script> document.addEventListener('DOMContentLoaded', function() { mermaid.initialize({ theme: 'neutral' }); }, false); </script> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Robot Teleoperation Platform </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/task_models/" class="nav-list-link">Task Models</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/task_models/robot_models.html" class="nav-list-link">Robot Arms</a></li><li class="nav-list-item "><a href="http://localhost:4000/task_models/tracing.html" class="nav-list-link">Tracing</a></li><li class="nav-list-item "><a href="http://localhost:4000/task_models/box_and_block.html" class="nav-list-link">Box and Block</a></li><li class="nav-list-item "><a href="http://localhost:4000/task_models/arat.html" class="nav-list-link">ARAT</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/behind_the_scenes/" class="nav-list-link">Behind the Scenes</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/behind_the_scenes/installation.html" class="nav-list-link">Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/behind_the_scenes/build_settings.html" class="nav-list-link">Build Settings</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/behind_the_scenes/components/" class="nav-list-link">Components</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/end_effectors.html" class="nav-list-link">End Effectors</a> </li><li class="nav-list-item active"> <a href="http://localhost:4000/behind_the_scenes/components/feedback_devices.html" class="nav-list-link active">Feedback Devices</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/ik_plugins.html" class="nav-list-link">IK Plugins</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/input_devices.html" class="nav-list-link">Input Devices</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/inspection_camera.html" class="nav-list-link">Inspection Camera</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/surface_painting.html" class="nav-list-link">Painting</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/rectangle_packing.html" class="nav-list-link">Rectangle Packing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/sticky_gripper.html" class="nav-list-link">Sticky Gripper</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/tracker.html" class="nav-list-link">Tracker</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/behind_the_scenes/modified_components/" class="nav-list-link">Modified Components</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/modified_components/urdf_importer.html" class="nav-list-link">URDF Importer</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/modification_workflow/" class="nav-list-link">Modification Workflow</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/modification_workflow/new_robot.html" class="nav-list-link">New Robot</a></li><li class="nav-list-item "><a href="http://localhost:4000/modification_workflow/new_task.html" class="nav-list-link">New Task</a></li><li class="nav-list-item "><a href="http://localhost:4000/modification_workflow/data_logging.html" class="nav-list-link">Data Logging</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Robot Teleoperation Platform" aria-label="Search Robot Teleoperation Platform" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/behind_the_scenes/">Behind the Scenes</a></li> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/behind_the_scenes/components/">Components</a></li> <li class="breadcrumb-nav-list-item"><span>Feedback Devices</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="usage"> <a href="#usage" class="anchor-heading" aria-labelledby="usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Usage </h1> <p>This project currently supports several visual feedback modalities, and opporunity to add others. They can currently be broken into two categories – VR and Non-VR. Initializing and providing the correct feedback modality is responsibility of the active <code class="language-plaintext highlighter-rouge">InputRig</code> component. In the current implementation, only the <code class="language-plaintext highlighter-rouge">VRInputRig</code> is used. However, for non-VR applications, the <code class="language-plaintext highlighter-rouge">MonitorInputRig</code> supports rendering a limited set of feedback sources directly to the monitor. The <code class="language-plaintext highlighter-rouge">MonitorInputRig</code> supports static single-cam feedback as well as static multi-cam feedback. The <code class="language-plaintext highlighter-rouge">VRInputRig</code> supports both of these modalities in addition to both stereo and mono VR.</p> <h1 id="technical-details"> <a href="#technical-details" class="anchor-heading" aria-labelledby="technical-details"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Technical Details </h1> <h2 id="vrinputrig"> <a href="#vrinputrig" class="anchor-heading" aria-labelledby="vrinputrig"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">VRInputRig</code> </h2> <p>When the user is wearing a VR headset, the simplest form of visual feedback to provide is stereoscopic VR. This is supported out of the box in a Unity environemnt for both native builds and WebGL builds by making use of the <a href="https://github.com/De-Panther/unity-webxr-export">WebXR Exporter</a>. This component provides an <code class="language-plaintext highlighter-rouge">XR Rig</code> which connects to the running VR backend using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebXR_Device_API">WebXR</a> communication specification. It similarly provides gameobjects that track the user’s hands and methods for reading user input.</p> <h3 id="mono-vr"> <a href="#mono-vr" class="anchor-heading" aria-labelledby="mono-vr"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mono VR </h3> <p>To truly enable monoscopic vision, it is necessary to feed the same image to both eyes. In lieu of making modifications to core XR camera modules to change the multi-eye render process, this project implements an external solution that works for general VR headset drivers. This is acheived by effectively enlarging the scene and placing it very far away from the eyes such that the interpupillary distance is effectively 0 when computing the perspective shift. To get this effect without having to disrupt the physics, we instead switch from rendering the scene directly to the eye cameras, and instead render it once from a perspective between the eyes and project it on a head-mounted screen that is placed at a signficant distance.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center"><img src="/assets/imgs/2022-05-12-19-39-38.png" alt="Mono Cam" /></th> </tr> </thead> <tbody> <tr> <td style="text-align: center">An example of the mono rendering strategy. The eye cameras don’t render the real scene and can only see the large projection in the distance. The viewpoint of the mono cam tracking the head motion is shown in the picture-in-picture view for illustration purposes. Similarly, the size and distance of the projected screen was reduced so that all of the elements in the scene could be seen at once.</td> </tr> </tbody> </table></div> <h3 id="static-camera-feedback"> <a href="#static-camera-feedback" class="anchor-heading" aria-labelledby="static-camera-feedback"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Static Camera Feedback </h3> <p>When using the static camera feedback modalities, the control modality is unaffected, but the user is placed in small virtual room with a monitor on top of it. In reality, the user is still technically collocated with the robot, but that scene layer is not rendered and this monitor room is rendered instead. when initializing the task, the active <code class="language-plaintext highlighter-rouge">InputRig</code>’s <code class="language-plaintext highlighter-rouge">ObserveScene</code> method will be called to look through the active task and arrange the video feeds from the static cameras found in the scene to display to the user. The <code class="language-plaintext highlighter-rouge">VRInputRig</code> does this by stitching the video feeds together with the <a href="/behind_the_scenes/components/rectangle_packing.html">Rectangle Packing</a> component and rendering the result to a <a href="8https://docs.unity3d.com/Manual/class-RenderTexture.html">RenderTexture</a>.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
