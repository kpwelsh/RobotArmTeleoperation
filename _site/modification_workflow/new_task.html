<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>New Task - Robot Teleoperation Platform</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>New Task | Robot Teleoperation Platform</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="New Task" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/modification_workflow/new_task.html" /> <meta property="og:url" content="http://localhost:4000/modification_workflow/new_task.html" /> <meta property="og:site_name" content="Robot Teleoperation Platform" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="New Task" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"New Task","url":"http://localhost:4000/modification_workflow/new_task.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Robot Teleoperation Platform </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/task_models/" class="nav-list-link">Task Models</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/task_models/robot_models.html" class="nav-list-link">Robot Arms</a></li><li class="nav-list-item "><a href="http://localhost:4000/task_models/tracing.html" class="nav-list-link">Tracing</a></li><li class="nav-list-item "><a href="http://localhost:4000/task_models/box_and_block.html" class="nav-list-link">Box and Block</a></li><li class="nav-list-item "><a href="http://localhost:4000/task_models/arat.html" class="nav-list-link">ARAT</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/behind_the_scenes/" class="nav-list-link">Behind the Scenes</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/behind_the_scenes/installation.html" class="nav-list-link">Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/behind_the_scenes/build_settings.html" class="nav-list-link">Build Settings</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/behind_the_scenes/components/" class="nav-list-link">Components</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/end_effectors.html" class="nav-list-link">End Effectors</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/feedback_devices.html" class="nav-list-link">Feedback Devices</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/ik_plugins.html" class="nav-list-link">IK Plugins</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/input_devices.html" class="nav-list-link">Input Devices</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/inspection_camera.html" class="nav-list-link">Inspection Camera</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/surface_painting.html" class="nav-list-link">Painting</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/rectangle_packing.html" class="nav-list-link">Rectangle Packing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/sticky_gripper.html" class="nav-list-link">Sticky Gripper</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/components/tracker.html" class="nav-list-link">Tracker</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/behind_the_scenes/modified_components/" class="nav-list-link">Modified Components</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/behind_the_scenes/modified_components/urdf_importer.html" class="nav-list-link">URDF Importer</a> </li></ul></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/modification_workflow/" class="nav-list-link">Modification Workflow</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/modification_workflow/new_robot.html" class="nav-list-link">New Robot</a></li><li class="nav-list-item active"><a href="http://localhost:4000/modification_workflow/new_task.html" class="nav-list-link active">New Task</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Robot Teleoperation Platform" aria-label="Search Robot Teleoperation Platform" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/modification_workflow/">Modification Workflow</a></li> <li class="breadcrumb-nav-list-item"><span>New Task</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="creating-a-new-task"> <a href="#creating-a-new-task" class="anchor-heading" aria-labelledby="creating-a-new-task"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creating a New Task </h1> <p>Creating a new task is a relatively straightforward process, although it requires specifying several properties of the task. The simplest method is to copy and existing task and make modifications. However, the following guide highlights all of the necessary components to make a task from scratch.</p> <h2 id="1-design-the-task"> <a href="#1-design-the-task" class="anchor-heading" aria-labelledby="1-design-the-task"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Design the Task </h2> <p>The most important part of creating a new task is to have the necessary task components. This includes 3D models, textures, and any necessary new script components. It is often useful to visit the <a href="https://assetstore.unity.com/?gclid=Cj0KCQjwg_iTBhDrARIsAD3Ib5i19cRskkVwEdTVqlGbZzUwpmHlvub_NMdsFRKHvdA474BXzic1xfYaAhzxEALw_wcB&amp;gclsrc=aw.ds">Unity Asset Store</a> to find existing components or models. There are often many free assets that can be useful, and there are several paid assets that are worth considering if you have the budget.</p> <h2 id="2-create-the-right-structure"> <a href="#2-create-the-right-structure" class="anchor-heading" aria-labelledby="2-create-the-right-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Create the Right Structure </h2> <p>To be a properly formed task that supports all of the feedback and input modalities, there are a few things that need to be in place. As an example, we will walk through the <a href="/task_models/arat.html">ARAT</a> task shown below in the Unity Prefab isolation editor view.</p> <p><img src="/assets/imgs/2022-05-13-20-50-32.png" alt="Arat Editor" /></p> <p>Firstly, you need a new class that inherits from the <code class="language-plaintext highlighter-rouge">Task</code> component. If we take a look at the <code class="language-plaintext highlighter-rouge">ComplexDexterityTask</code>, we can see that this does not have any implementation requirements, but allows you to include task-level scripting if necessary. This task only uses these hooks to start and stop a clock.</p> <figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">ComplexDexterityTask</span> <span class="p">:</span> <span class="n">Task</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Clock</span> <span class="n">clock</span><span class="p">;</span>
    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span> <span class="p">{</span>

        <span class="n">clock</span><span class="p">.</span><span class="nf">StartTimer</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nf">Pause</span><span class="p">();</span>
        <span class="p">},</span> <span class="m">240</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnEnable</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">base</span><span class="p">.</span><span class="nf">OnEnable</span><span class="p">();</span>
        <span class="n">clock</span><span class="p">.</span><span class="nf">StartStopwatch</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure> <p>In addition to new class, the <code class="language-plaintext highlighter-rouge">Task</code> component requires specification of:</p> <ol> <li>A robot start position transform (<code class="language-plaintext highlighter-rouge">RobotPosition</code>)</li> <li>The commanded pose start position where the robot will place its end-effector initially (<code class="language-plaintext highlighter-rouge">StartPostion</code>)</li> <li>The end-effector model that the robot arm will use (<code class="language-plaintext highlighter-rouge">End Effector</code>)</li> <li>A timer that is referenced inside of the <code class="language-plaintext highlighter-rouge">Task</code> script</li> <li>A list of cameras placed in the scene (<code class="language-plaintext highlighter-rouge">Scene Cameras</code>)</li> <li>A set of task configurations that correspond to semantic difficulty levels (<code class="language-plaintext highlighter-rouge">Task Configurations</code>) <ul> <li>Accompanied with a difficulty map that takes a <code class="language-plaintext highlighter-rouge">SystemManager.Difficulty</code> enum value and maps it to a parent game object.</li> </ul> </li> </ol> <p>If we take a look at the object hierarchy and the component inspector, we can see the variables and configuration that is required.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">GameObject Hierarchy</th> <th style="text-align: center">Component Inspector</th> </tr> </thead> <tbody> <tr> <td style="text-align: center"><img src="/assets/imgs/2022-05-13-20-52-52.png" alt="Arat Hierarchy" /></td> <td style="text-align: center"><img src="/assets/imgs/2022-05-13-20-53-15.png" alt="Arat Inspector" /></td> </tr> </tbody> </table></div> <p>If all of these components are present, then all of the input and feedback systems should function as well.</p> <p>Optionally, to enable task completion display, you should include a <code class="language-plaintext highlighter-rouge">SubTaskCompletionDisplay</code> component in your scene. This will automatically look for active sub tasks in the scene and display their progress.</p> <p><img src="/assets/imgs/2022-05-13-21-03-47.png" alt="Sub Task Completion Display" /></p> <h2 id="3-create-your-task-prefab"> <a href="#3-create-your-task-prefab" class="anchor-heading" aria-labelledby="3-create-your-task-prefab"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Create Your Task Prefab </h2> <p>Once you have syntactically complete task, you need to create a new prefab or place the existing prefab into the Resources folder. This is critical to enable task logging and replay, as the <code class="language-plaintext highlighter-rouge">TaskRecord</code> component needs to be able to find the task in the folder hierarchy.</p> <h2 id="4-add-the-task-to-the-menu"> <a href="#4-add-the-task-to-the-menu" class="anchor-heading" aria-labelledby="4-add-the-task-to-the-menu"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Add the Task to the Menu </h2> <p>Lastly, to enable the task for user selection, head over to the main scene and expand the <code class="language-plaintext highlighter-rouge">Hub-&gt;Canvas-&gt;Scene</code> gameobject. The <code class="language-plaintext highlighter-rouge">Scene</code> object contains a <code class="language-plaintext highlighter-rouge">SceneSelector</code> component that maps the button to the correct task prefab object.</p> <p><img src="/assets/imgs/2022-05-13-21-09-09.png" alt="Scene Selector" /></p> <p>Copy one of the existing buttons and configure it to your liking. You can even create a <a href="https://docs.unity3d.com/Manual/Sprites.html">Unity Sprite</a> out of an existing image file to use as a thumbnail image. Once you have created the button, link it to the appropriate prefab by adding an entry in the <code class="language-plaintext highlighter-rouge">Scene Selector</code> Map property.</p> <p>Now your task should be accessible from the main menu and it should support all of the configurations and modalities.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
